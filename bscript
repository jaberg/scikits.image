from bento.commands.hooks \
    import \
        post_configure

import yaku.context

@post_configure
def myconfigure(ctx):
    if not ctx.help:
        ctx = yaku.context.get_cfg()
        # TODO: tool configuration (ensuring cython version, etc...)
        ctx.use_tools(["cython"])
        from numpy.distutils.misc_util import get_numpy_include_dirs
        ctx.env["CPPPATH"].extend(get_numpy_include_dirs())
        ctx.store()
